#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.24
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1362816294',
        'name' => 'admin.tt',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\n<html lang=\"ja\">\n<head>\n \n <meta http-equiv=\"Content-Type\" content=\"text/html; charset=Shift_JIS\">\n \n <meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\">\n <meta http-equiv=\"Content-Style-Type\" content=\"text/css\">\n \n <meta name=\"robots\" content=\"noindex,nofollow\">\n \n <title>ぜろちゃんねるプラス管理 - [ ";
#line 12 "template\admin.tt"
    $output .=  $stash->get('title');
    $output .=  " ]</title>\n \n <link rel=\"stylesheet\" href=\".";
#line 14 "template\admin.tt"
    $output .=  $stash->get('datapath');
    $output .=  "/admin.css\" type=\"text/css\">\n <script language=\"javascript\" src=\".";
#line 15 "template\admin.tt"
    $output .=  $stash->get('datapath');
    $output .=  "/admin.js\"></script>\n \n</head>\n<!--nobanner-->\n<body>\n\n<form name=\"ADMIN\" action=\"./admin.cgi\" method=\"POST\" ";
#line 21 "template\admin.tt"
    if ($stash->get('mode')) {
    $output .=  'onsubmit="return Submitted();"';
    }
    
    $output .=  ">\n\n";
#line 50 "template\admin.tt"
    if ($stash->get('mode')) {
    $output .=  "<div class=\"MainMenu\" align=\"right\">\n";
#line 47 "template\admin.tt"
    
    # SWITCH
    do {
        my $_tt_result = $stash->get('mode');
        my $_tt_match;
        SWITCH: {
    $_tt_match = 1;
    $_tt_match = [ $_tt_match ] unless ref $_tt_match eq 'ARRAY';
    if (grep(/^\Q$_tt_result\E$/, @$_tt_match)) {
    $output .=  " <a href=\"javascript:DoSubmit('sys.top','DISP','NOTICE');\">トップ</a> |\n <a href=\"javascript:DoSubmit('sys.bbs','DISP','LIST');\">掲示板</a> |\n <a href=\"javascript:DoSubmit('sys.user','DISP','LIST');\">ユーザー</a> |\n <a href=\"javascript:DoSubmit('sys.cap','DISP','LIST');\">キャップ</a> |\n <a href=\"javascript:DoSubmit('sys.capg','DISP','LIST');\">共通キャップグループ</a> |\n <a href=\"javascript:DoSubmit('sys.setting','DISP','INFO');\">システム設定</a> |\n <a href=\"javascript:DoSubmit('sys.edit','DISP','BANNER_PC');\">各種編集</a> |\n";
        last SWITCH;
    }
    $_tt_match = 2;
    $_tt_match = [ $_tt_match ] unless ref $_tt_match eq 'ARRAY';
    if (grep(/^\Q$_tt_result\E$/, @$_tt_match)) {
    $output .=  " <a href=\"javascript:DoSubmit('bbs.thread','DISP','LIST');\">スレッド</a> |\n <a href=\"javascript:DoSubmit('bbs.pool','DISP','LIST');\">プール</a> |\n <a href=\"javascript:DoSubmit('bbs.kako','DISP','LIST');\">過去ログ</a> |\n <a href=\"javascript:DoSubmit('bbs.setting','DISP','SETINFO');\">掲示板設定</a> |\n <a href=\"javascript:DoSubmit('bbs.edit','DISP','HEAD');\">各種編集</a> |\n <a href=\"javascript:DoSubmit('bbs.user','DISP','LIST');\">管理グループ</a> |\n <a href=\"javascript:DoSubmit('bbs.cap','DISP','LIST');\">キャップグループ</a> |\n <a href=\"javascript:DoSubmit('bbs.log','DISP','INFO');\">ログ閲覧</a> |\n";
        last SWITCH;
    }
    $_tt_match = 3;
    $_tt_match = [ $_tt_match ] unless ref $_tt_match eq 'ARRAY';
    if (grep(/^\Q$_tt_result\E$/, @$_tt_match)) {
    $output .=  " <a href=\"javascript:DoSubmit('thread.res','DISP','LIST');\">レス一覧</a> |\n <a href=\"javascript:DoSubmit('thread.del','DISP','LIST');\">削除レス一覧</a> |\n";
        last SWITCH;
    }
    
        }
    };
    
    $output .=  " <a href=\"javascript:DoSubmit('login','','');\">ログオフ</a>\n</div>\n";
    }
    
    $output .=  "\n<div class=\"MainHead\" align=\"right\">0ch+ BBS System Manager</div>\n\n<table cellspacing=\"0\" width=\"100%\" height=\"400\">\n <tr>\n";
#line 74 "template\admin.tt"
    if ($stash->get('mode')) {
    $output .=  "  <td valign=\"top\" class=\"Content\">\n   <table width=\"95%\" cellspacing=\"0\">\n    <tr>\n     <td class=\"FunctionList\">\n";
#line 69 "template\admin.tt"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('menu');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    FOR1:   while (! $_tt_error) {
                $stash->{'line'} = $_tt_value;
#line 68 "template\admin.tt"
    if ($stash->get(['line', 0, 'url', 0]) ne '') {
    $output .=  "      <a href=\"javascript:DoSubmit(";
#line 63 "template\admin.tt"
    $output .=  $stash->get(['line', 0, 'url', 0]);
    $output .=  ");\">";
#line 63 "template\admin.tt"
    $output .=  $stash->get(['line', 0, 'str', 0]);
    $output .=  "</a><br>\n";
    }
    elsif ($stash->get(['line', 0, 'str', 0]) ne '') {
    $output .=  "      <font color=\"gray\">";
#line 65 "template\admin.tt"
    $output .=  $stash->get(['line', 0, 'str', 0]);
    $output .=  "</font><br>\n";
    }
    else {
    $output .=  "      <hr>\n";
    }
    ;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "     </td>\n    </tr>\n   </table>\n  </td>\n";
    }
    
    $output .=  "  <td width=\"80%\" valign=\"top\" class=\"Function\">\n   <div class=\"FuncTitle\">";
#line 76 "template\admin.tt"
    $output .=  $stash->get('title');
    $output .=  "</div>\n";
#line 81 "template\admin.tt"
    if ($stash->get('intmpl')) {
#line 1 "template\admin.tt"
    $output .=  $context->include(("admin." . $stash->get('intmpl') . ".tt"));
    }
    else {
#line 80 "template\admin.tt"
    $output .=  $stash->get('innerhtml');
    }
    
    $output .=  "  </td>\n";
#line 91 "template\admin.tt"
    if ($stash->get('mode')) {
    $output .=  "  <!-- ▼こんなところに地下要塞(ry -->\n   <input type=\"hidden\" name=\"MODULE\" value=\"\">\n   <input type=\"hidden\" name=\"MODE\" value=\"\">\n   <input type=\"hidden\" name=\"MODE_SUB\" value=\"\">\n   <input type=\"hidden\" name=\"UserName\" value=\"";
#line 88 "template\admin.tt"
    $output .=  $stash->get('username');
    $output .=  "\">\n   <input type=\"hidden\" name=\"SessionID\" value=\"";
#line 89 "template\admin.tt"
    $output .=  $stash->get('sid');
    $output .=  "\">\n  <!-- △こんなところに地下要塞(ry -->\n";
    }
    
    $output .=  " </tr>\n</table>\n\n<div class=\"MainFoot\">\n Copyright 2001 - {=0ch+year=} 0ch+ BBS";
#line 96 "template\admin.tt"
    if ($stash->get('username') ne '') {
    $output .=  " : Loggin User - <b>";
#line 96 "template\admin.tt"
    $output .=  $stash->get('username');
    $output .=  "</b>";
    }
    
    $output .=  "<br>\n Build Version:<b>";
#line 97 "template\admin.tt"
    $output .=  $stash->get('version');
    $output .=  "</b>";
#line 97 "template\admin.tt"
    if ($stash->get('isupdate')) {
    $output .=  " (New Version is Available.)";
    }
    
    $output .=  "\n</div>\n\n</form>\n\n</body>\n</html>\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
